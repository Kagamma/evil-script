fn test(a) {
  writeln('PASS 1')
  a += 5
  yield (a)

  writeln('PASS 2')
  a += 3
  yield (a)

  writeln('PASS 3')
  a += 1
  return (a)
}

c = coroutine_create(test, 5)
while !coroutine_is_terminated(c) {
  v = coroutine_resume(c)
  writeln('Result: ', v)
}